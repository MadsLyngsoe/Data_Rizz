<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scatter Plot</title>
    <link rel="stylesheet" href="https://cdn.metroui.org.ua/current/metro.css">
    <script src="https://cdn.metroui.org.ua/current/metro.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script type = "text/javascript" src="/football_transfers_viz/scripts/createChart.js"></script>
</head>
<body>
    <!-- Include Vega, Vega-Lite, and Vega-Embed libraries -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <div class="container text-center">
        <div class="row">        
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault">
            </label>
          </div>
          <div class="col" id="col1-1">
            <script type="text/javascript">createChart('#col1-1', 'lineChart.json')</script>
          </div>
          <div class="mx-auto" style="width: 20%;">
            <input data-role="doubleslider"
              id="slider"
              data-min="1992"
              data-max="2021"
              data-value-min="1992"
              data-value-max="2021"
              data-hint-always="true"
              data-hint-position-min="bottom"
              data-hint-position-max="top"
              data-show-min-max="true"
              data-cls-backside="bg-dark"
              data-cls-marker="bg-blue border-50 custom-marker"
              data-cls-hint="bg-cyan custom-marker shadow-2"
              data-cls-complete="bg-red"
              data-cls-min-max="text-bold"
            >  
            <script>
              window.addEventListener('load', function () {
                var buttons = document.getElementsByTagName('Button');
                buttons[0].addEventListener('mouseup', function () { 
                  var sliderValues = document.getElementById("slider").value.split(",");
                  getLineChartView().signal("yearMin", parseInt(sliderValues[0]));
                  getTreemapChartView().signal("yearMin", parseInt(sliderValues[0]));
                  if(getBubbleChartView() != null) {
                    getBubbleChartView().signal("yearMin", parseInt(sliderValues[0]));
                    getBubbleChartView().run();
                  }
                  getLineChartView().run();
                  getTreemapChartView().run();
                });
                buttons[1].addEventListener('mouseup', function () { 
                  var sliderValues = document.getElementById("slider").value.split(",");
                  getLineChartView().signal("yearMax", parseInt(sliderValues[1]));
                  getTreemapChartView().signal("yearMax", parseInt(sliderValues[1]));
                  if(getBubbleChartView() != null) {
                    getBubbleChartView().signal("yearMax", parseInt(sliderValues[1]));
                    getBubbleChartView().run();
                  }
                  getLineChartView().run();
                  getTreemapChartView().run();
                });
            })
            </script>
          </div>
        </div>
        <div class="row" id="row1">
          <div class="col"id="col2-1">
          </div>
            <div class="col"id="col2-2">
            </div>
        </div>
    </div>
</body>
</html>